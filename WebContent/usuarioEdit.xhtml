<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:composite="http://java.sun.com/jsf/composite"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:tp = "http://java.sun.com/jsf/composite/menu"
      xmlns:p="http://primefaces.org/ui"> 

	<h:head>
	    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1" http-equiv="X-UA-Conpatible" />
	    <h:outputStylesheet library="css" name="bootstrap.min.css" />
	    <title>Desafio Sefaz</title>
	    <style type="text/css">
	        .btnWidth {
	            width: 80px;
	        }     
	    </style>
	</h:head>

	<h:body>
		<tp:menuSefaz />
		 <h:form id="adicionarUsuario" class="form-horizontal">
		 	 <div class="form-group">
		 	 	<div class="col-sm-4"></div>
		 	 	<div class="col-sm-4">
		 	 		<p:outputPanel rendered="#{usuarioEditBean.operacaoInclusao}">
		 	 			<h2>Cadastrar Usuário</h2>
		 	 		</p:outputPanel>
		 	 		<p:outputPanel rendered="#{usuarioEditBean.operacaoAlteracao}">
		 	 			<h2>Alterar Usuário</h2>
		 	 		</p:outputPanel>
		 	 		<p:outputPanel rendered="#{usuarioEditBean.operacaoDetalhamento}">
		 	 			<h2>Detalhar Usuário</h2>
		 	 		</p:outputPanel>
		 	 	</div>
		 	 </div>
		 	 <hr/>
		 	 <div class="form-group">
		 	 	 <h:outputLabel for="nome" class="control-label col-sm-4">Nome:</h:outputLabel>
		 	 	 <div class="col-sm-4">
		 	 	 	 <h:inputText id="nome" class="form-control" value="#{usuarioEditBean.usuario.nome}" style="width:300px;" rendered="#{not usuarioEditBean.operacaoDetalhamento}">
	                </h:inputText>
	                <h:outputText value="#{usuarioEditBean.usuario.nome}" style="width:300px;" rendered="#{usuarioEditBean.operacaoDetalhamento}">
	                </h:outputText>
		 	 	 </div>
		 	 </div>
		 	 <div class="form-group">
		 	 	 <h:outputLabel for="email" class="control-label col-sm-4">E-mail:</h:outputLabel>
		 	 	 <div class="col-sm-4">
		 	 	 	 <h:inputText id="email" class="form-control" value="#{usuarioEditBean.usuario.email}" style="width:300px;" rendered="#{not usuarioEditBean.operacaoDetalhamento}">
	                </h:inputText>
	                 <h:outputText value="#{usuarioEditBean.usuario.email}" style="width:300px;" rendered="#{usuarioEditBean.operacaoDetalhamento}">
	                </h:outputText>
		 	 	 </div>
		 	 </div>
		 	  <div class="form-group">
		 	  	<h:outputLabel for="telefones" class="control-label col-sm-4">Telefones:</h:outputLabel>
		 	  	<div class="col-sm-4">
		 	  		
		 	  	</div>
		 	  </div>
		 	  <p:outputPanel rendered="#{not usuarioEditBean.operacaoDetalhamento}">		 	  
			 	   <div class="form-group"> 
			 	   		<div class="col-sm-4"> </div>
						<div class="col-sm-1"> 
				 	   		<h:outputLabel for="ddd" class="control-label" style="text-align:center;">DDD:</h:outputLabel>
							<h:inputText id="ddd" class="form-control" value="#{usuarioEditBean.telefone.ddd}">
							</h:inputText>
						</div>
						
						<div class="col-sm-1"> 
							<h:outputLabel for="numero" class="control-label" >Numero:</h:outputLabel>
							<h:inputText id="numero" class="form-control" value="#{usuarioEditBean.telefone.numero}">
							</h:inputText>
						</div>
						
						<div class="col-sm-1"> 
							<h:outputLabel for="tipo" class="control-label">Tipo:</h:outputLabel>
							<h:inputText id="tipo" class="form-control" value="#{usuarioEditBean.telefone.tipo}">
							</h:inputText>
						</div>
						<div class="col-sm-1">
							<h:outputLabel class="control-label">Ação:</h:outputLabel>			
							<h:commandButton value="Adicionar" action="#{usuarioEditBean.adicionarTelefone}" class="btn btn-primary form-control" update="telefoneTable"/>
						</div>
			 	   </div>
		 	  </p:outputPanel>
		 	   
		 	   <div class="form-group">
		 	   		<div class="col-sm-4">
		 	   		</div>
		 	   		<div class="col-sm-4">
		 	   			<h:dataTable id="telefoneTable" var="telefone" value="#{usuarioEditBean.usuario.telefones}"  class="table table-striped table-hover table-bordered tableUpdated">
		 	   				 <h:column >
		 	   				 	<f:facet name="header">DDD</f:facet>
        						<h:outputText value="#{telefone.ddd}" />
    						 </h:column>
    						 <h:column>
    						 	<f:facet name="header">Numero</f:facet>
        						<h:outputText value="#{telefone.numero}" />
    						 </h:column>
    						 <h:column >
    						 	<f:facet name="header">Tipo</f:facet>
        						<h:outputText value="#{telefone.tipo}" />
    						 </h:column>
    						  <h:column rendered="#{not usuarioEditBean.operacaoDetalhamento}">
    						  	<f:facet name="header">Ações</f:facet>
    						  	<p:commandButton  icon="ui-icon-closethick" class="btn btn-danger" title="Excluir"/>
    						  </h:column>
		 	   			</h:dataTable>
		 	   		</div>
		 	   </div>
		 	  <div class="form-group">
		 	  	<h:outputLabel for="login" class="control-label col-sm-4">Login:</h:outputLabel>
		 	  	<div class="col-sm-4">
		 	  		<h:inputText id="login" value="#{usuarioEditBean.usuario.login}" class="form-control" style="width:200px;" rendered="#{not usuarioEditBean.operacaoDetalhamento}">
	                </h:inputText>
	                <h:outputText value="#{usuarioEditBean.usuario.login}" style="width:200px;" rendered="#{usuarioEditBean.operacaoDetalhamento}">
	                </h:outputText>
		 	  	</div>
		 	  </div>
		 	   <div class="form-group">
		 	   	<h:outputLabel for="senha" class="control-label col-sm-4">Senha:</h:outputLabel>
		 	   	<div class="col-sm-4">
		 	   		<h:inputText id="senha" value="#{usuarioEditBean.usuario.senha}" class="form-control" style="width:200px;" rendered="#{not usuarioEditBean.operacaoDetalhamento}">
	                </h:inputText>
	                <h:outputText value="#{usuarioEditBean.usuario.senha}" style="width:200px;" rendered="#{usuarioEditBean.operacaoDetalhamento}">
	                </h:outputText>
		 	  	</div>
		 	  </div>
		 	  <div class="form-group">
		 	  	<div class="col-sm-4"></div>
		 	  	 <div class="col-sm-4">
		 	  	 	<div class="col-sm-2">
		 	  	 		 <h:commandButton value="Voltar" class="btn btn-primary" action="usuarioList.xhtml"/>
		 	  	 	</div>
		 	  	 	<div class="col-sm-2">
	                    <h:commandButton value="Concluir" action="#{usuarioEditBean.salvar}" class="btn btn-success btnWidth" />
	                </div>
		 	  	 </div>
		 	  </div>
		 	   <hr/>
		 </h:form>
	</h:body>

</html>